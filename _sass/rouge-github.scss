/* GitHub Style Syntax Highlighting (Light & Dark Support) */

// 定义语法高亮颜色变量
:root {
  --hl-base: #24292e;
  --hl-comment: #6a737d;
  --hl-keyword: #d73a49;
  --hl-string: #032f62;
  --hl-entity: #6f42c1;
  --hl-constant: #005cc5;
  --hl-tag: #22863a;
}

[data-theme="dark"] {
  --hl-base: #c9d1d9;
  --hl-comment: #8b949e;
  --hl-keyword: #ff7b72;   // 浅红
  --hl-string: #a5d6ff;    // 浅蓝
  --hl-entity: #d2a8ff;    // 浅紫
  --hl-constant: #79c0ff;  // 亮蓝
  --hl-tag: #7ee787;       // 浅绿
}

.highlight {
  background-color: var(--code-bg);
  color: var(--hl-base);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  margin-bottom: 16px;
  padding: 16px;
  overflow: auto;
  line-height: 1.5;
  
  // 核心修复：强制使用 JetBrains Mono，提升阅读体验
  font-family: "JetBrains Mono", "SFMono-Regular", Consolas, monospace;
  font-size: 13.5px; // 最佳阅读字号
}

// 语法颜色映射
.highlight {
  .c, .ch, .cd, .cm, .c1, .cs { color: var(--hl-comment); font-style: italic; }
  .k, .kv, .kd, .kp, .kr, .kt { color: var(--hl-keyword); }
  .s, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .s1 { color: var(--hl-string); }
  .na, .nc, .nf, .fm { color: var(--hl-entity); font-weight: bold; }
  .nt { color: var(--hl-tag); }
  .o, .ow { color: var(--hl-keyword); }
  .m, .mf, .mh, .mi, .il, .mo, .mb, .mx { color: var(--hl-constant); }
  .ss { color: var(--hl-string); }
}

// 行内代码
p code, li code, span code {
  padding: 0.2em 0.4em;
  margin: 0;
  font-size: 85%;
  background-color: var(--hover-bg); // 使用变暗/变亮的背景
  border-radius: 4px;
  font-family: "JetBrains Mono", monospace;
  color: var(--text-primary);
}

// 手机端优化
@media screen and (max-width: 850px) {
  .highlight {
    font-size: 13px;
    margin-left: -15px; margin-right: -15px; // 贴边
    border-radius: 0; border-left: none; border-right: none;
  }
}